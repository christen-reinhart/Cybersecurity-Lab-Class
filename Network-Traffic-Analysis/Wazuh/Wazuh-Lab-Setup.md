# Wazuh Minimal Lab Setup - YAML Lab Build Plan
# Author: Christen Reinhart
# Lab Purpose: Centralized XDR/SIEM using Wazuh on Ubuntu VMs in VMware Workstation Pro

lab_name: "Wazuh Minimal XDR-SIEM Lab"
description: |
  This lab simulates a centralized Wazuh XDR/SIEM setup with a minimal viable deployment using Ubuntu VMs.
  All VMs run Ubuntu Server 22.04 LTS. Endpoints can be headless or Desktop as needed.
  The lab is deployed on VMware Workstation Pro using host-only networking.

network:
  name: "Wazuh-Lab-Network"
  type: "Host-Only"
  subnet: "192.168.100.0/24"
  gateway: "192.168.100.1"
  dns: "8.8.8.8"
  notes: "Static IPs recommended for all core components."

vms:
  - name: "Wazuh-Indexer"
    role: "Wazuh Indexer (Opensearch)"
    os: "Ubuntu Server 22.04"
    ip: "192.168.100.10"
    cpu: 2
    ram: "4GB"
    disk: "50GB"
    purpose: "Index and store alerts generated by the Wazuh server."
  
  - name: "Wazuh-Server"
    role: "Wazuh Manager (Server)"
    os: "Ubuntu Server 22.04"
    ip: "192.168.100.11"
    cpu: 4
    ram: "4GB"
    disk: "50GB"
    purpose: "Analyze logs from agents, manage agents, trigger alerts, and process events."
  
  - name: "Wazuh-Dashboard"
    role: "Wazuh Dashboard (Web UI)"
    os: "Ubuntu Server 22.04"
    ip: "192.168.100.12"
    cpu: 2
    ram: "4GB"
    disk: "20GB"
    purpose: "Visual interface for alert management, compliance, vulnerability, and log review."
  
  - name: "Ubuntu-Endpoint1"
    role: "Simulated Endpoint/Workstation"
    os: "Ubuntu Server 22.04"
    ip: "192.168.100.101"
    cpu: 1
    ram: "2GB"
    disk: "20GB"
    purpose: "Simulated workstation or server with Wazuh agent installed for testing log collection and monitoring."

  - name: "Ubuntu-Endpoint2"
    role: "Simulated Endpoint/Workstation"
    os: "Ubuntu Server 22.04"
    ip: "192.168.100.102"
    cpu: 1
    ram: "2GB"
    disk: "20GB"
    purpose: "Simulated workstation or server with Wazuh agent installed for testing log collection and monitoring."

setup_notes: |
  - All central components (Indexer, Server, Dashboard) are on Ubuntu Server 22.04.
  - Endpoints can optionally run Ubuntu Desktop if GUI testing is desired.
  - All core components must have static IPs.
  - Use the assisted installation script from Wazuh for quick deployment:
    curl -sO https://packages.wazuh.com/4.12/wazuh-install.sh && sudo bash ./wazuh-install.sh -a
  - After setup, access dashboard at https://192.168.100.12 with credentials provided post-install.
  - Recommended: Disable Wazuh package repositories post-install to avoid accidental upgrades.

references:
  - "https://documentation.wazuh.com/current/installation-guide/index.html"
  - "https://wazuh.com/install/"
  - "https://documentation.wazuh.com/current/quickstart.html"

